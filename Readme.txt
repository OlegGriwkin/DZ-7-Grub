Попасть в систему без пароля несколькими способами:

Способ 1
- Запустить виртуальную машину и при выборе ядра для загрузки нажать ``e``. В конце строки начинающейся с linux16 добавляем ```init=/bin/sh```, нажимаем сtrl-x для загрузки в систему
- Далее перемонтируем корень ```mount -o remount,rw /```, 
- Убедимся записав данные в любой файл или прочитав вывод команды ```mount | grep root```

Способ 2
- Запустить виртуальную машину и при выборе ядра для загрузки нажать "e". В конце строки начинающейся с linux16 добавляем ```rd.break```,  нажимаем сtrl-x для загрузки в систему
- Загрузка системы в аварийном режиме. Выполним команду перемонтирования ```mount -o remount,rw /sysroot``` и ```chroot /sysroot```
- Меняем пароль ```passwd```
- Обновляем параметр SELinux ```touch /.autorelabel```
- Перезапускаем машину ```reboot```

Способ 3
- Запустить виртуальную машину и при выборе ядра для загрузки нажать "e". В строки начинающейся с linux16 заменяем ```ro``` на ```rw init=/sysroot/bin/sh```, нажимаем сtrl-x для загрузки в систему
- В аварийном режиме вводим ```chroot /sysroot``` 
- Меняем пароль ```passwd```
- Обновляем параметр SELinux ```touch /.autorelabel```
- Перезапускаем машину ```reboot```

##########################################################################
 Установить систему с LVM, после чего переименовать VG
- Первым делом посмотрим состояние системы ```vgs```
- Приступим к переименованию ```vgrename VolGroup00 OtusRoot``` (текущее название / новое название). 
- Правим файлы, заходим в файл ```vim /etc/fstab``` и меняем старое название на новое
- Заходим в файл ```vim /etc/default/grub```, в строке ```GRUB_CMDLINE_LINUX``` меняем старое название на новое в значениях ```rd.lvm.lv```
- Заходим в файл ```/boot/grub2/grub.cfg``` меняем старое название на новое в строке ```linux16```
- Пересоздаем ```initrd image```, чтобы он знал новое название Volume Group ```mkinitrd -f -v /boot/initramfs-$(uname -r).img $(uname -r)```
- Перезагружатмся и если все сделано правильно успешно грузимся с новым именем Volume Group и проверяем ```vgs```

 Добавить модуль в initrd
- Скрипты модулей хранятся в каталоге /usr/lib/dracut/modules.d/. Для того чтобы добавить свой модуль создаем там папку с именем 01test ```mkdir /usr/lib/dracut/modules.d/01test```
- Cоздаем 2 скрипта  ```module-setup.sh``` и ```test.sh``` делаем их исполняемыми ```chmod +x```. 
- В скрипт ```module-setup.sh``` вписываем:
#!/bin/bash

check() { 
    return 0
}

depends() { 
    return 0
}

install() {
    inst_hook cleanup 00 "${moddir}/test.sh" 
}

- В скрипт ```test.sh``` вписываем:
#!/bin/bash

exec 0<>/dev/console 1<>/dev/console 2<>/dev/console
cat <<'msgend'

Hello! You are in dracut module!

 ___________________
< I'm dracut module >
 -------------------
   \
    \
        .--.
       |o_o |
       |:_/ |
      //   \ \
     (|     | )
    /'\_   _/`\
    \___)=(___/
msgend
sleep 10
echo " continuing...."

- Пересобираем образ initrd командой ```dracut -f -v```
- Можно проверить/посмотреть какие модули загружены в образ ```lsinitrd -m /boot/initramfs-$(uname -r).img | grep test```
- Перезагружаемся и видим пингвина